# sudhishbommaraju.github.io
/* ---------- GEOMETRY ---------- */
function getLineCoords(feature) {
    const g = feature.geometry;

    // ORS LineString
    if (g.type === "LineString") {
        return g.coordinates;
    }

    // ORS MultiLineString (pick first)
    if (g.type === "MultiLineString") {
        return g.coordinates[0];
    }

    // OSRM format or fallback
    if (Array.isArray(g)) {
        return g;
    }

    throw new Error("Unsupported geometry type: " + g.type);
}

/* ---------- ROUTE DRAWING ---------- */
function drawRoute(feature, style) {
    const coords = getLineCoords(feature);

    const geojsonFeature = {
        type: "Feature",
        geometry: {
            type: "LineString",
            coordinates: coords
        }
    };

    const layer = L.geoJSON(geojsonFeature, { style }).addTo(map);
    routeLayers.push(layer);
    return layer;
}

/* ---------- FIT MAP ---------- */
function fitAllRoutes() {
    if (routeLayers.length === 0) return;
    const group = L.featureGroup(routeLayers);
    map.fitBounds(group.getBounds(), { padding: [50, 50] });
}
